---
import Section from "../Section.astro";

import { work } from "@cv";
---

<Section title="Experiencia">
    <ul>
        {work.map(({name, startDate, endDate, position, summary, highlights}) => { 
            const startYear = new Date(startDate).getFullYear();
            const endYear = endDate != null ? new Date(endDate).getFullYear() : 'Actualidad';
            const duration = `${startYear} - ${endYear}`;
            return (           
            <li>
                <article>
                    <header>
                        <div>
                            <h3>{name}</h3>
                            <h4>{position}</h4>
                        </div>
                    <time>{duration}</time>
                    </header>
                    <footer>
                        <p>{summary}</p>
                    </footer>
                </article>
            </li>
            )
        })}
    </ul>
</Section>
<style>
    article{
        border-left: 2px solid #333;
        padding-left: 16px;
    }

    ul{
        display: flex;
        flex-direction: column;
        gap: 1rem;
    }

    header{
        display: flex;
        justify-content: space-between;
        align-items:  flex-start;
        margin-bottom: 4px;
    }

    article h3{
        font-size: 1.25rem;
        color: #111;
    }

    article h4{
        font-size: 1rem;
        font-weight: 400;
        color: #222;
    }

    time{
        font-size: .9rem;
        color: #555;
    }

    /* Agrega estas reglas para el modo oscuro */
    :global(.dark) article h3,
    :global(.dark) article h4,
    :global(.dark) time,
    :global(.dark) p {
    color: white; /* Cambia el color del texto a blanco en modo oscuro */
    }

</style>